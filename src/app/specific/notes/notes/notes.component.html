<div class="d-flex flex-row align-items-center mb-3">
    <div class="fs-2 me-auto">
        Notas
    </div>
    <div>
        <button type="button" class="btn btn-outline-primary" (click)="newNote()">Agregar nota <i
                class="bi bi-plus-square ms-2"></i></button>
    </div>
</div>

<div class="card mb-3 p-4" *ngFor="let note of notesObservable | async">
    <div class="d-flex flex-row align-items-center">
        <div class="me-5 no-display">
            <img [src]="note.image" alt="" width="90" height="90" class="rounded-circle me-2"
            loadImgError="assets/image-error.png">
        </div>
        <div class="me-auto">
            <div class="ellipsis">
                <b>Nombre: </b> {{note.name}}
            </div>
            <div class="ellipsis">
                <b>Descripción: </b>{{note.description}}
            </div>
            <div class="ellipsis">
                <b>Categoría: </b>{{note.category}}
            </div>
            <div class="ellipsis">
                <b>Estado: </b>{{note.status === 'TO_DO'? 'Por hacer': note.status === 'IN_PROGRESS' ? 'En progreso' : note.status === 'DONE'? 'Terminado': '' }}
            </div>
        </div>
        <div class="d-flex flex-sm-row flex-column">
            <button class="btn btn-link text-decoration-none text-primary me-5 me-i" (click)="editNote(note._id)">
                <i class="bi bi-pencil me-2"></i> Editar
            </button>
            <button class="btn btn-link text-decoration-none text-danger me-4 me-i" (click)="deleteNote(note._id)">
                <i class="bi bi-trash me-2"></i> Eliminar
            </button>
        </div>
    </div>
</div>

<div class="d-flex flex-column h-75 justify-content-center align-items-center" *ngIf="!(this.notesObservable|async)?.length">
    <div class="d-flex flex-column align-items-center card p-4">
        <div class="fs-1">
            <i class="bi bi-card-heading"></i>
        </div>
        <div class="fs-3 title-color">
            Sin notas creadas
        </div>
    </div>
</div>